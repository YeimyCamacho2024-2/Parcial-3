from typing import List, Dict, Callable

# Definición de un tipo de tarea
Task = Dict[str, str]

# Función para agregar una tarea
def agregar_tarea(tareas: List[Task], descripcion: str) -> List[Task]:
    nueva_tarea = {"descripcion": descripcion, "completada": False}
    return tareas + [nueva_tarea]

# Función para eliminar una tarea
def eliminar_tarea(tareas: List[Task], index: int) -> List[Task]:
    return [tarea for i, tarea in enumerate(tareas) if i != index]

# Función para marcar una tarea como completada
def completar_tarea(tareas: List[Task], index: int) -> List[Task]:
    return [
        {**tarea, "completada": True} if i == index else tarea
        for i, tarea in enumerate(tareas)
    ]

# Función para listar tareas
def listar_tareas(tareas: List[Task]) -> None:
    for i, tarea in enumerate(tareas):
        estado = "✔️" if tarea["completada"] else "❌"
        print(f"{i}: {estado} {tarea['descripcion']}")

# Función principal para ejecutar el programa
def main():
    tareas = []
    while True:
        print("\nOpciones:")
        print("1. Agregar tarea")
        print("2. Eliminar tarea")
        print("3. Completar tarea")
        print("4. Listar tareas")
        print("5. Salir")
        
        opcion = input("Seleccione una opción: ")
        
        if opcion == "1":
            descripcion = input("Ingrese la descripción de la tarea: ")
            tareas = agregar_tarea(tareas, descripcion)
        elif opcion == "2":
            listar_tareas(tareas)
            index = int(input("Ingrese el índice de la tarea a eliminar: "))
            tareas = eliminar_tarea(tareas, index)
        elif opcion == "3":
            listar_tareas(tareas)
            index = int(input("Ingrese el índice de la tarea a completar: "))
            tareas = completar_tarea(tareas, index)
        elif opcion == "4":
            listar_tareas(tareas)
        elif opcion == "5":
            break
        else:
            print("Opción no válida. Intente de nuevo.")

if __name__ == "__main__":
    main()
